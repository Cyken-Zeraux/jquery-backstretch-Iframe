!function(t,i,e){"use strict";t.fn.backstretch=function(s,o){return(s===e||0===s.length)&&t.error("No images were supplied for Backstretch"),0===t(i).scrollTop()&&i.scrollTo(0,0),this.each(function(){var i=t(this),e=i.data("backstretch");if(e){if("string"==typeof s&&"function"==typeof e[s])return void e[s](o);o=t.extend(e.options,o),e.destroy(!0)}e=new n(this,s,o),i.data("backstretch",e)})},t.backstretch=function(i,e){return t("body").backstretch(i,e).data("backstretch")},t.expr[":"].backstretch=function(i){return t(i).data("backstretch")!==e},t.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0,useObject:!1};var s={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},img:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},object:{position:"absolute",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999}},n=function(e,n,r){this.options=t.extend({},t.fn.backstretch.defaults,r||{}),this.images=t.isArray(n)?n:[n],t.each(this.images,function(){t("<img />")[0].src=this}),this.isBody=e===document.body,this.$container=t(e),this.$root=this.isBody?t(o?i:document):this.$container;var a=this.$container.children(".backstretch").first();if(this.$wrap=a.length?a:t('<div class="backstretch"></div>').css(s.wrap).appendTo(this.$container),!this.isBody){var h=this.$container.css("position"),c=this.$container.css("zIndex");this.$container.css({position:"static"===h?"relative":h,zIndex:"auto"===c?0:c,background:"none"}),this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&o?"fixed":"absolute"}),this.index=0,this.show(this.index),t(i).on("resize.backstretch",t.proxy(this.resize,this)).on("orientationchange.backstretch",t.proxy(function(){this.isBody&&0===i.pageYOffset&&(i.scrollTo(0,1),this.resize())},this))};n.prototype={resize:function(){if(this.options.useObject)try{var t,e={left:0,top:0},s=this.isBody?this.$root.width():this.$root.innerWidth(),n=s,o=this.isBody?i.innerHeight?i.innerHeight:this.$root.height():this.$root.innerHeight(),r=n/this.$img.data("ratio");r>=o?(t=(r-o)/2,this.options.centeredY&&(e.top="-"+t+"px")):(r=o,n=r*this.$img.data("ratio"),t=(n-s)/2,this.options.centeredX&&(e.left="-"+t+"px")),this.$wrap.css({width:s,height:o}).find("object:not(.deleteable)").css({width:n,height:r}).css(e)}catch(a){}else try{var t,e={left:0,top:0},s=this.isBody?this.$root.width():this.$root.innerWidth(),n=s,o=this.isBody?i.innerHeight?i.innerHeight:this.$root.height():this.$root.innerHeight(),r=n/this.$img.data("ratio");r>=o?(t=(r-o)/2,this.options.centeredY&&(e.top="-"+t+"px")):(r=o,n=r*this.$img.data("ratio"),t=(n-s)/2,this.options.centeredX&&(e.left="-"+t+"px")),this.$wrap.css({width:s,height:o}).find("img:not(.deleteable)").css({width:n,height:r}).css(e)}catch(a){}return this},show:function(i){if(!(Math.abs(i)>this.images.length-1)){var e;e=this.options.useObject?"object":"img";var n=this,o=n.$wrap.find(e).addClass("deleteable"),r={relatedTarget:n.$container[0]};return n.$container.trigger(t.Event("backstretch.before",r),[n,i]),this.index=i,clearInterval(n.interval),this.options.useObject?n.$img=t("<object />").css(s.object).bind("load",function(e){var s=this.width||t(e.target).width(),a=this.height||t(e.target).height();t(this).data("ratio",s/a),t(this).fadeIn(n.options.speed||n.options.fade,function(){o.remove(),n.paused||n.cycle(),t(["after","show"]).each(function(){n.$container.trigger(t.Event("backstretch."+this,r),[n,i])})}),n.resize()}).appendTo(n.$wrap):n.$img=t("<img />").css(s.img).bind("load",function(e){var s=this.width||t(e.target).width(),a=this.height||t(e.target).height();t(this).data("ratio",s/a),t(this).fadeIn(n.options.speed||n.options.fade,function(){o.remove(),n.paused||n.cycle(),t(["after","show"]).each(function(){n.$container.trigger(t.Event("backstretch."+this,r),[n,i])})}),n.resize()}).appendTo(n.$wrap),this.options.useObject?n.$img.attr("data",n.images[i]):n.$img.attr("src",n.images[i]),n}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return this.images.length>1&&(clearInterval(this.interval),this.interval=setInterval(t.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(e){t(i).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),e||this.$wrap.remove(),this.$container.removeData("backstretch")}};var o=function(){var t=navigator.userAgent,e=navigator.platform,s=t.match(/AppleWebKit\/([0-9]+)/),n=!!s&&s[1],o=t.match(/Fennec\/([0-9]+)/),r=!!o&&o[1],a=t.match(/Opera Mobi\/([0-9]+)/),h=!!a&&a[1],c=t.match(/MSIE ([0-9]+)/),d=!!c&&c[1];return!((e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1||e.indexOf("iPod")>-1)&&n&&534>n||i.operamini&&"[object OperaMini]"==={}.toString.call(i.operamini)||a&&7458>h||t.indexOf("Android")>-1&&n&&533>n||r&&6>r||"palmGetResource"in i&&n&&534>n||t.indexOf("MeeGo")>-1&&t.indexOf("NokiaBrowser/8.5.0")>-1||d&&6>=d)}()}(jQuery,window);